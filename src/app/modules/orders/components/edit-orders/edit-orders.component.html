<div class="container font-lexend">
  <div class="big-screenn flex bg-neutral-900 flex-col">
    <div class="flex flex-row justify-between bg-dark">
      <input
        (input)="getAllProducts()"
        type="text"
        placeholder="Search"
        [(ngModel)]="query"
        class="outline-none w-[250px] h-[40px] px-2 rounded-2 text-white bg-darkGray"
      />
    </div>
    <div class="big-screenn flex bg-neutral-900 flex-row">
      <div class="flex-auto w-full md:w-[70%] pl-3 mt-3">
        <div
          *ngIf="!categoryLoading"
          class="grid grid-cols-1 md:grid-cols-6 sm:grid-cols-3 h-[50px] gap-1"
          style="height: 30vh; overflow-y: auto; row-gap: 1rem"
        >
          <!-- card -->

          <div
            class="w-[100%] h-[17vh] flex flex-col gap-1 items-center rounded-lg"
            [style.background-color]="category.color"
            style="margin-right: 25px"
            *ngFor="let category of categories"
            (click)="getCategoriesProducts(category.id)"
          >
            <!-- <div class="w-[150px] h-[150px] left-0 top-0 absolute bg-gray-300 rounded-[5px]"></div> -->
            <div class="w-[27px] h-6 flex justify-center">
              <div class="w-[27px] h-6 rounded-[5px]">
                <svg
                  width="24"
                  height="23"
                  viewBox="0 0 24 23"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="0.120605"
                    width="23.0866"
                    height="23"
                    rx="5"
                    fill="#CFDDDB"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M4.15464 9.22363C4.06279 9.22367 3.97211 9.24684 3.8893 9.29144C3.80648 9.33603 3.73364 9.40091 3.67615 9.48129C3.61865 9.56167 3.57796 9.6555 3.55709 9.75588C3.53621 9.85625 3.53567 9.9606 3.55551 10.0612L5.58373 20.3026C5.73512 21.0675 6.11445 21.7517 6.65908 22.2421C7.20372 22.7325 7.8811 22.9998 8.57941 23H15.6905C16.3888 22.9998 17.0662 22.7325 17.6108 22.2421C18.1554 21.7517 18.5348 21.0675 18.6861 20.3026C18.7747 19.8552 19.2151 19.5773 19.6707 19.557C20.3369 19.5272 20.989 19.2947 21.554 18.876C22.3512 18.2852 22.9126 17.3699 23.1198 16.3233C23.3269 15.2767 23.1635 14.1808 22.664 13.2669C22.4042 12.7914 22.064 12.3845 21.667 12.0659C21.0537 11.5736 20.5609 10.8325 20.7144 10.0612C20.7342 9.9606 20.7337 9.85625 20.7128 9.75588C20.6919 9.6555 20.6512 9.56167 20.5937 9.48129C20.5362 9.40091 20.4634 9.33603 20.3806 9.29144C20.2978 9.24684 20.2071 9.22367 20.1152 9.22363H4.15464ZM19.5014 18.1783C19.2872 18.1783 19.1476 17.9714 19.1892 17.7613L19.8209 14.5746C20.0108 13.6165 21.0683 13.0773 21.5565 13.9232C21.8778 14.48 22.0094 15.1482 21.9272 15.8051C21.845 16.462 21.5544 17.0635 21.1088 17.4995C20.6633 17.9354 20.0925 18.1764 19.5014 18.1783Z"
                    fill="#111315"
                  />
                  <path
                    d="M8.94247 2.05991L8.93878 2.06542L8.92159 2.09159C8.8325 2.2297 8.74893 2.3722 8.67114 2.51866C8.6064 2.63694 8.54857 2.7598 8.49802 2.88649C8.46926 2.96098 8.45844 3.00415 8.45388 3.02304C8.45303 3.0266 8.4526 3.03024 8.4526 3.0339C8.46647 3.15576 8.50466 3.27254 8.56432 3.37555C8.6564 3.55878 8.78286 3.75027 8.94247 3.9886L8.95474 4.00513C9.09962 4.2228 9.27395 4.48317 9.40901 4.75319C9.54651 5.02872 9.67911 5.38001 9.67911 5.77953C9.67911 6.03853 9.5993 6.2865 9.53301 6.46008C9.46093 6.6442 9.37808 6.82276 9.285 6.99461C9.18809 7.17484 9.08446 7.35041 8.97439 7.52086L8.95229 7.55531L8.94794 7.5631C8.94675 7.56525 8.94532 7.56725 8.94369 7.56908C8.84617 7.71541 8.70084 7.81228 8.53967 7.83838C8.37849 7.86447 8.21469 7.81765 8.08428 7.70822C7.95387 7.59879 7.86754 7.43572 7.84429 7.25487C7.82103 7.07402 7.86275 6.89021 7.96028 6.74388L7.96396 6.73837L7.98115 6.71219C8.07027 6.5741 8.15384 6.4316 8.23161 6.28512C8.29725 6.16743 8.35511 6.04449 8.40472 5.91729C8.44027 5.82524 8.44885 5.72416 8.42273 5.629C8.40334 5.55838 8.37544 5.49081 8.33965 5.42823C8.22471 5.21521 8.098 5.01046 7.96028 4.81518L7.948 4.79865C7.7824 4.56052 7.63067 4.31065 7.49374 4.05059C7.32651 3.74025 7.23348 3.38674 7.22363 3.02425C7.22363 2.76526 7.30344 2.51728 7.36973 2.3437C7.44217 2.15359 7.53425 1.96623 7.61774 1.80918C7.71465 1.62895 7.81828 1.45337 7.92835 1.28292L7.95905 1.2347C8.05657 1.08837 8.2019 0.991502 8.36307 0.965408C8.52425 0.939314 8.68805 0.986131 8.81846 1.09556C8.94887 1.20499 9.0352 1.36807 9.05846 1.54892C9.08171 1.72977 9.03999 1.91357 8.94247 2.05991ZM12.6257 2.05991L12.622 2.06542L12.6048 2.09159C12.5157 2.2297 12.4321 2.3722 12.3543 2.51866C12.2896 2.63694 12.2318 2.7598 12.1812 2.88649C12.1525 2.96098 12.1416 3.00415 12.1371 3.02304C12.1362 3.0266 12.1358 3.03024 12.1358 3.0339C12.1497 3.15576 12.1879 3.27254 12.2475 3.37555C12.3396 3.55878 12.4661 3.75027 12.6257 3.9886L12.638 4.00513C12.7828 4.2228 12.9572 4.48317 13.0922 4.75319C13.2297 5.02872 13.3623 5.38001 13.3623 5.77953C13.3623 6.03853 13.2825 6.2865 13.2162 6.46008C13.1441 6.6442 13.0613 6.82276 12.9682 6.99461C12.8713 7.17484 12.7677 7.35041 12.6576 7.52086L12.6355 7.55531L12.6312 7.5631C12.63 7.56525 12.6285 7.56725 12.6269 7.56908C12.5294 7.71541 12.3841 7.81228 12.2229 7.83838C12.0617 7.86447 11.8979 7.81765 11.7675 7.70822C11.6371 7.59879 11.5508 7.43572 11.5275 7.25487C11.5042 7.07402 11.546 6.89021 11.6435 6.74388L11.6472 6.73837L11.6644 6.71219C11.7535 6.5741 11.837 6.4316 11.9148 6.28512C11.9805 6.16743 12.0383 6.04449 12.0879 5.91729C12.1235 5.82524 12.1321 5.72416 12.1059 5.629C12.0866 5.55838 12.0587 5.49081 12.0229 5.42823C11.9079 5.21521 11.7812 5.01046 11.6435 4.81518L11.6312 4.79865C11.4656 4.56052 11.3139 4.31065 11.1769 4.05059C11.0097 3.74025 10.9167 3.38674 10.9068 3.02425C10.9068 2.76526 10.9866 2.51728 11.0529 2.3437C11.1254 2.15359 11.2175 1.96623 11.3009 1.80918C11.3979 1.62895 11.5015 1.45337 11.6116 1.28292L11.6423 1.2347C11.7398 1.08837 11.8851 0.991502 12.0463 0.965408C12.2075 0.939314 12.3713 0.986131 12.5017 1.09556C12.6321 1.20499 12.7184 1.36807 12.7417 1.54892C12.7649 1.72977 12.7232 1.91357 12.6257 2.05991ZM16.3089 2.05991L16.3052 2.06542L16.288 2.09159C16.1988 2.22961 16.1152 2.37211 16.0376 2.51866C15.9728 2.63695 15.915 2.75982 15.8644 2.88649C15.8357 2.96098 15.8249 3.00415 15.8203 3.02304C15.8195 3.0266 15.819 3.03024 15.819 3.0339C15.8329 3.15576 15.8711 3.27254 15.9307 3.37555C16.0228 3.55878 16.1493 3.75027 16.3089 3.9886L16.3212 4.00513C16.466 4.2228 16.6404 4.48317 16.7754 4.75319C16.9129 5.02872 17.0455 5.38001 17.0455 5.77953C17.0455 6.03853 16.9657 6.2865 16.8994 6.46008C16.8277 6.6444 16.7449 6.82299 16.6514 6.99461C16.555 7.17487 16.4518 7.35044 16.342 7.52086L16.3187 7.55531L16.3144 7.5631C16.3132 7.56525 16.3117 7.56725 16.3101 7.56908C16.2126 7.71541 16.0673 7.81228 15.9061 7.83838C15.7449 7.86447 15.5811 7.81765 15.4507 7.70822C15.3203 7.59879 15.234 7.43572 15.2107 7.25487C15.1875 7.07402 15.2292 6.89021 15.3267 6.74388L15.3304 6.73837L15.3476 6.71219C15.4367 6.5741 15.5203 6.4316 15.598 6.28512C15.6637 6.16743 15.7215 6.04449 15.7711 5.91729C15.8067 5.82524 15.8153 5.72416 15.7892 5.629C15.7698 5.55838 15.7419 5.49081 15.7061 5.42823C15.5911 5.21521 15.4644 5.01046 15.3267 4.81518L15.3144 4.79865C15.1488 4.56052 14.9971 4.31065 14.8602 4.05059C14.6929 3.74025 14.5999 3.38674 14.5901 3.02425C14.5901 2.76526 14.6699 2.51728 14.7362 2.3437C14.8086 2.15359 14.9007 1.96623 14.9842 1.80918C15.0811 1.62895 15.1847 1.45337 15.2948 1.28292L15.3255 1.2347C15.423 1.08837 15.5683 0.991502 15.7295 0.965408C15.8907 0.939314 16.0545 0.986131 16.1849 1.09556C16.3153 1.20499 16.4016 1.36807 16.4249 1.54892C16.4481 1.72977 16.4064 1.91357 16.3089 2.05991Z"
                    fill="#111315"
                  />
                </svg>
              </div>
            </div>
            <div class="w-[85%]">
              <div class="text-neutral-900 text-md">
                {{ category.category_name }}
              </div>
              <div class="text-neutral-900 text-base">
                {{ getNumberOfProducts(category.id) }} Items
              </div>
            </div>
          </div>
        </div>
        <div
          *ngIf="categoryLoading"
          class="flex items-center justify-center w-full h-[30vh] border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"
        >
          <div role="status">
            <svg
              aria-hidden="true"
              class="w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600"
              viewBox="0 0 100 101"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
                fill="currentColor"
              />
              <path
                d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
                fill="currentFill"
              />
            </svg>
            <span class="sr-only">Loading...</span>
          </div>
        </div>

        <div
          class="w-full md:w-[100%] h-[0px] border-2 border-white mt-1"
        ></div>

        <div>
          <div
            class="product-card mt-1"
            *ngIf="products.length > 0"
            style="overflow-y: auto"
          >
            <div
              *ngIf="!productsLoading"
              class="grid grid-cols-1 md:grid-cols-4 sm:grid-cols-3 gap-1 h-[100px]"
              style="height: 47vh; overflow-y: auto"
            >
              <!-- Adjust the grid here for product display -->
              <div
                [style.width]="'100%'"
                [style.height]="'23vh'"
                [style.background]="
                  product.selectedItems! > 0 ? '#F1C8D0' : '#292D2C'
                "
                class="product-item rounded-lg gap-y-1 sm:h-[80px]"
                *ngFor="let product of products"
              >
                <div
                  [ngStyle]="{
                    color: product.selectedItems! > 0 ? 'black' : 'white',
                    'font-size': '12px',
                    'font-weight': '200',
                    'word-wrap': 'break-word'
                  }"
                  class="flex justify-center"
                >
                  Orders -> Kitchen
                </div>
                <div
                  class="product-info ml-2"
                  [ngStyle]="{ 'color': product.selectedItems! > 0 ? 'black' : 'white',}"
                >
                  <div class="product-name">{{ product.product_name }}</div>
                  <div class="product-price">
                    Ksh.{{ product.product_price }}
                  </div>
                </div>
                <div class="product-actions mt-1 mr-1">
                  <button
                    [ngStyle]="{
                      background:
                        product.selectedItems! > 0 ? '#F1C8D0' : '#292D2C',
                      color: product.selectedItems! > 0 ? 'black' : 'white',
                      width: '23px',
                      height: '23px',
                      'border-radius': '5px',
                      border: '0.50px white solid',
                      display: 'flex',
                      'justify-content': 'center',
                      'align-items': 'center',
                      'font-size': 'larger'
                    }"
                    (click)="decrementItem(product)"
                  >
                    -
                  </button>
                  <span
                    *ngIf="
                      product.selectedItems !== undefined &&
                      product.selectedItems > 0
                    "
                    >{{ product.selectedItems }}</span
                  >
                  <span
                    [ngStyle]="{ 'color': product.selectedItems! > 0 ? 'black' : 'white',}"
                    *ngIf="
                      !product.selectedItems || product.selectedItems === 0
                    "
                    >0</span
                  >
                  <button
                    [ngStyle]="{
                      background:
                        product.selectedItems! > 0 ? '#F1C8D0' : '#292D2C',
                      color: product.selectedItems! > 0 ? 'black' : 'white',
                      width: '23px',
                      height: '23px',
                      'border-radius': '5px',
                      border: '0.50px white solid',
                      display: 'flex',
                      'justify-content': 'center',
                      'align-items': 'center',
                      'font-size': 'larger'
                    }"
                    (click)="incrementItem(product)"
                  >
                    +
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            *ngIf="productsLoading"
            class="flex items-center justify-center w-full h-[47vh] border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"
          >
            <div role="status">
              <svg
                aria-hidden="true"
                class="w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600"
                viewBox="0 0 100 101"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
                  fill="currentColor"
                />
                <path
                  d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
                  fill="currentFill"
                />
              </svg>
              <span class="sr-only">Loading...</span>
            </div>
          </div>

          <div
            *ngIf="products.length === 0 && !productsLoading"
            class="w-[100%] h-[46vh] bg-neutral-900 flex justify-center items-center"
          >
            <div class="text-white text-base">Category Has No Products</div>
          </div>
        </div>
        <div class="h-[7.5vh] flex items-end mb-0 pb-0 pt-3"></div>
      </div>
      <div class="flex-auto w-full md:w-[30%] px-4 h-[60vh]">
        <!-- <div class="w-[100%]  relative p-4 mt-3 bg-darkGray text-white border border-gray-200 rounded-lg shadow sm:p-8">
          <div class="flex flex-col gap-1 h-[80vh] w-full">
            <div class="flow-root h-[50vh] overflow-y-auto overflow-x-auto">
              <ul role="list">
                <ng-container class=" w-[90%]" *ngIf="selectedProducts && selectedProducts.length > 0">
                  <li class="bg-gray my-2 orderItems h-[30px] pl-2 flex items-center" *ngFor="let product of selectedProducts; let ndx = index;">
                    <div class="flex flex-row space-x-4" (mouseenter)="product.showDeleteIcon = true" (mouseleave)="product.showDeleteIcon = false"  *ngIf="product.selectedItems !== undefined && product.selectedItems > 0">
                      <a (click)="deleteItem(product)" class="Vector" style="width: 14px; height: 18px;" *ngIf="product.showDeleteIcon">
                        <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 1H10.5L9.5 0H4.5L3.5 1H0V3H14M1 16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H11C11.5304 18 12.0391 17.7893 12.4142 17.4142C12.7893 17.0391 13 16.5304 13 16V4H1V16Z" fill="#F1C8D0"/>
                          </svg>
                      </a>
                      <div class="flex-shrink-0">
                        <div class="w-6 h-6 bg-white text-black text-center rounded-full">{{ndx + 1}}</div>
                      </div>
                      <div class="flex-1">
                        <p class="text-sm font-light text-white truncate dark-text-white">{{product.product_name}}</p>
                      </div>
                      <div class="flex-1">
                        <p class="text-sm font-light text-white truncate dark-text-white">
                          x{{product.selectedItems}}
                        </p>
                      </div>
                      <div class="inline-flex items-center text-base  text-white dark-text-white px-2">
                        Ksh. {{ +product.product_price * +product.selectedItems!}}
                      </div>
                    </div>
                  </li>
                </ng-container>
                <ng-container class=" w-[90%]  " *ngIf=" selectedProducts.length === 0">
                  <div class="text-white text-base   flex justify-center items-center">No Items Added</div>
                </ng-container>
        
              </ul>
            </div>
            <div class="h-px bg-white border-dotted my-3"> </div>
            <div class="h-[30vh] relative">
              <div class="flex justify-between">
                <div class="flex-1">
                  <p class="text-sm font-light text-white truncate dark:text-white">Subtotal</p>
                </div>
                <div class=" text-base font-light text-white dark:text-white">
                  Ksh. {{ selectedProductsTotal()*0.9}}
                </div>
              </div>
              <div class="flex justify-between">
                <div class="flex-1">
                  <p class="text-sm font-light text-white truncate dark:text-white">Tax 10%</p>
                </div>
                <div class=" text-base font-light text-white dark:text-white">
                  Ksh. {{ selectedProductsTotal()*0.1}}
                </div>
              </div>
              <div class="flex justify-between">
                <div class="flex-1">
                  <p class="text-sm font-medium text-white truncate dark:text-white">Total</p>
                </div>
                <div class=" text-base font-medium text-white dark:text-white">
                  Ksh. {{ selectedProductsTotal()}}
                </div>
              </div>
            </div>
            <div class=" flex justify-center w-full">
              <div class="w-full">
                <button type="button" class="text-black bg-white  lexend text-sm  w-[100%] h-[50px] text-center" (click)="updateOrder()">Place Order
                </button>
              </div>
    
            </div>
          </div>
        </div> -->

        <div
          class="w-[100%] relative p-4 mt-3 bg-darkGray text-white border border-gray-200 rounded-lg shadow sm:p-8"
        >
          <div class="flex flex-col gap-1 h-[80vh] w-full">
            <div class="flow-root h-[50vh] overflow-y-auto overflow-x-auto">
              <ul role="list">
                <ng-container
                  class="w-[100%]"
                  *ngIf="receivedItems && receivedItems.length > 0"
                >
                  <li
                    class="my-2 orderItems w-[100%]"
                    *ngFor="let product of receivedItems; let ndx = index"
                  >
                    <div
                      class="h-[30px] pl-2 w-[100%] flex items-center flex-row space-x-4 bg-gray-200"
                      (mouseenter)="product.showDeleteIcon = true"
                      (mouseleave)="product.showDeleteIcon = false"
                      *ngIf="
                        product.selectedItems !== undefined &&
                        product.selectedItems > 0
                      "
                    >
                      <!-- <a (click)="deleteItem(product)" class="Vector" style="width: 14px; height: 18px;" *ngIf="product.showDeleteIcon">
                        <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 1H10.5L9.5 0H4.5L3.5 1H0V3H14M1 16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H11C11.5304 18 12.0391 17.7893 12.4142 17.4142C12.7893 17.0391 13 16.5304 13 16V4H1V16Z" fill="#F1C8D0"/>
                          </svg>
                      </a> -->
                      <div class="flex-shrink-0">
                        <div
                          class="w-6 h-6 bg-white text-black text-center rounded-full"
                        >
                          {{ ndx + 1 }}
                        </div>
                      </div>
                      <div class="flex-1">
                        <p
                          class="text-sm font-light text-white truncate dark-text-white"
                        >
                          {{ product.name }}
                        </p>
                      </div>
                      <div class="flex-1">
                        <p
                          class="text-sm font-light text-white truncate dark-text-white"
                        >
                          x{{ product.selectedItems }}
                        </p>
                      </div>
                      <div
                        class="inline-flex items-center text-sm w-full text-white dark-text-white px-2"
                      >
                        {{ +product.price * +product.selectedItems! }}
                      </div>
                    </div>
                  </li>
                  <p
                    class="text-center text-white italic text-sm"
                    *ngIf="addItems"
                  >
                    New Items
                  </p>
                  <li
                    class="my-2 orderItems w-[100%]"
                    *ngFor="let product of addItems; let ndx = index"
                  >
                    <div
                      class="h-[30px] pl-2 w-[100%] flex items-center flex-row space-x-4 bg-gray"
                      (mouseenter)="product.showDeleteIcon = true"
                      (mouseleave)="product.showDeleteIcon = false"
                      *ngIf="
                        product.selectedItems !== undefined &&
                        product.selectedItems > 0
                      "
                    >
                      <a
                        (click)="deleteItem(product)"
                        class="Vector"
                        style="width: 14px; height: 18px"
                        *ngIf="product.showDeleteIcon"
                      >
                        <svg
                          width="14"
                          height="18"
                          viewBox="0 0 14 18"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M14 1H10.5L9.5 0H4.5L3.5 1H0V3H14M1 16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H11C11.5304 18 12.0391 17.7893 12.4142 17.4142C12.7893 17.0391 13 16.5304 13 16V4H1V16Z"
                            fill="#F1C8D0"
                          />
                        </svg>
                      </a>
                      <div class="flex-shrink-0">
                        <div
                          class="w-6 h-6 bg-white text-black text-center rounded-full"
                        >
                          {{ ndx + 1 }}
                        </div>
                      </div>
                      <div class="flex-1">
                        <p
                          class="text-sm font-light text-white truncate dark-text-white"
                        >
                          {{ product.product_name }}
                          {{
                            product.selectedSpecification
                              ? product.selectedSpecification + " ::"
                              : ""
                          }}
                        </p>
                      </div>
                      <div class="flex-1">
                        <p
                          class="text-sm font-light text-white truncate dark-text-white"
                        >
                          x{{ product.selectedItems }}
                        </p>
                      </div>
                      <div
                        class="inline-flex items-center text-sm w-full text-white dark-text-white px-2"
                      >
                        {{ +product.product_price * +product.selectedItems! }}
                      </div>
                    </div>
                  </li>
                </ng-container>
                <ng-container
                  class="w-[90%]"
                  *ngIf="addItems.length === 0 && selectedProducts.length === 0"
                >
                  <div
                    class="text-white text-base flex justify-center items-center"
                  >
                    No Items Added
                  </div>
                </ng-container>
              </ul>
            </div>
            <div class="h-px bg-white border-dotted my-3"></div>
            <div class="h-[30vh] relative">
              <div class="flex justify-between">
                <div class="flex-1">
                  <p
                    class="text-sm font-light text-white truncate dark:text-white"
                  >
                    Subtotal
                  </p>
                </div>
                <div class="text-base font-light text-white dark:text-white">
                  Ksh.
                  {{
                    ((selectedProductsTotal() + originalTotal) * 0.84).toFixed(
                      2
                    )
                  }}
                </div>
              </div>
              <div class="flex justify-between">
                <div class="flex-1">
                  <p
                    class="text-sm font-light text-white truncate dark:text-white"
                  >
                    Tax 10%
                  </p>
                </div>
                <div class="text-base font-light text-white dark:text-white">
                  Ksh.
                  {{
                    ((selectedProductsTotal() + originalTotal) * 0.16).toFixed(
                      2
                    )
                  }}
                </div>
              </div>
              <div class="flex justify-between">
                <div class="flex-1">
                  <p
                    class="text-sm font-medium text-white truncate dark:text-white"
                  >
                    Total
                  </p>
                </div>
                <div class="text-base font-medium text-white dark:text-white">
                  Ksh.{{ selectedProductsTotal() + originalTotal }}
                </div>
              </div>
              <div>
                <label for="comments">Comments:</label><br />
                <textarea
                  id="comments"
                  name="comments"
                  rows="4"
                  cols="50"
                  class="h-10 w-full bg-gray"
                ></textarea
                ><br /><br />
              </div>
            </div>
            <div class="flex justify-center w-full">
              <div *ngIf="!clicked" class="w-full">
                <button
                  type="button"
                  class="text-black bg-white lexend text-sm w-[100%] h-[50px] text-center"
                  (click)="updateOrder()"
                >
                  Update Order
                </button>
              </div>
              <div *ngIf="clicked" class="w-full">
                <button
                  disabled
                  type="button"
                  class="text-white w-[100%] h-[50px] bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 inline-flex items-center"
                >
                  <svg
                    aria-hidden="true"
                    role="status"
                    class="inline w-4 h-4 me-3 text-white animate-spin"
                    viewBox="0 0 100 101"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
                      fill="#E5E7EB"
                    />
                    <path
                      d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
                      fill="currentColor"
                    />
                  </svg>
                  Posting...
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class=" small-screen flex bg-neutral-900 flex-col ">
    <div class="flex-auto w-full">
      <div class="grid grid-cols-1 md:grid-cols-6 sm:grid-cols-3 h-[50px] gap-1" style="height: 35vh; overflow-y: auto; row-gap: 1rem;">
        <div class="w-full md:w-[100%] rounded-[5px] cursor-pointer" [style.background-color]="category.color" *ngFor="let category of categories" (click)="setActiveCategory(category)">
          <app-menu-order-items [category]="category"></app-menu-order-items>
        </div>
        
      </div>
      <div class="w-full md:w-[100%] h-[0px] border-2 border-white mt-3"></div>
  
      <div class="product-card mt-3" *ngIf="activeCategory" style="overflow-y: auto;">
        <div class="grid grid-cols-1 md:grid-cols-6 sm:grid-cols-3 gap-1 h-[100px]" style="height: 50vh; overflow-y: auto;">
          <div
          [style.width]="'100%'"
          [style.height]="'23vh'"
          [style.background]="product.selectedItems! > 0 ? '#F1C8D0' : '#292D2C'"
          class="product-item rounded-lg gap-y-1 sm:h-[80px]"
          *ngFor="let product of activeCategory.products"
        >
          <div
            [ngStyle]="{ 'color': product.selectedItems! > 0 ? 'black' : 'white', 'font-size': '14px', 'font-family': 'Inter', 'font-weight': '400', 'word-wrap': 'break-word' }"
            class="flex justify-center"
          >
            Orders -> Kitchen
          </div>
          <div class="product-info  ml-2"
          [ngStyle]="{ 'color': product.selectedItems! > 0 ? 'black' : 'white',}"
  
          >
            <div class="product-name">{{ product.product_name }}</div>
            <div class="product-price">${{ product.product_price }}</div>
          </div>
          <div class="product-actions  mt-1 mr-1">
            <button
              [ngStyle]="{
                'background': product.selectedItems! > 0 ? '#F1C8D0' : '#292D2C',
                'color': product.selectedItems! > 0 ? 'black' : 'white',
                'width': '23px',
                'height': '23px',
                'border-radius': '5px',
                'border': '0.50px white solid',
                'display': 'flex',
                'justify-content': 'center',
                'align-items': 'center',
                'font-size': 'larger'
              }"
              (click)="decrementItem(product)"
            >
              -
            </button>
            <span *ngIf="product.selectedItems !== undefined && product.selectedItems > 0">{{ product.selectedItems }}</span>
            <span [ngStyle]="{ 'color': product.selectedItems! > 0 ? 'black' : 'white',}"
              *ngIf="!product.selectedItems || product.selectedItems === 0">0</span>
            <button
              [ngStyle]="{
                'background': product.selectedItems! > 0 ? '#F1C8D0' : '#292D2C',
                'color': product.selectedItems! > 0 ? 'black' : 'white',
                'width': '23px',
                'height': '23px',
                'border-radius': '5px',
                'border': '0.50px white solid',
                'display': 'flex',
                'justify-content': 'center',
                'align-items': 'center',
                'font-size': 'larger'
              }"
              (click)="incrementItem(product)"
            >
              +
            </button>
          </div>
        </div>
        
        </div>
      </div>
  
      <div *ngIf="!activeCategory" class="w-[100%] h-[311px] bg-neutral-900 flex justify-center items-center" >
        <div class="text-white text-base  ">Choose category</div>
      </div>
    </div>
    <div class="flex-auto w-full md:w-full px-4">
      <div class="w-[100%] h-10 bg-neutral-900 flex flex-row justify-between">
        <div>
            <div class=" h-[15px] text-white text-base  ">{{ selectedTable?.name|| 'Select Table' }}</div>
            <div class=" h-[13px] text-white text-[13px] font-normal mt-2 "*ngIf="(currentUser$ | async) as user">{{ user.name }}</div>
        </div>
        <div>
            <div class="w-[34px] h-[34px] relative">
                <div [routerLink]="['/admin/tables']" class="w-[34px] h-[34px] left-0 top-0 absolute cursor-pointer  bg-neutral-900 rounded-full border border-white">
                    <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="17" cy="17" r="16.75" fill="#111315" stroke="white" stroke-width="0.5"/>
                        <path d="M15.1324 21.4566L11.3673 22.117C11.3313 22.1223 11.3004 22.125 11.2726 22.125C11.1417 22.125 11.0171 22.0746 10.9129 21.974C10.8553 21.9168 10.8125 21.8464 10.788 21.7689C10.7635 21.691 10.7582 21.6083 10.7728 21.528L10.7731 21.5265L11.434 17.7582L20.933 8.25922L24.6303 11.9587L15.1324 21.4566ZM24.6489 11.9401L24.6487 11.9403C24.6488 11.9403 24.6488 11.9402 24.6489 11.9401ZM8.71875 24.5117H25.25C25.5095 24.5117 25.7188 24.721 25.7188 24.9805V25.7188H8.25V24.9805C8.25 24.721 8.45926 24.5117 8.71875 24.5117Z" fill="white" stroke="white" stroke-width="0.5"/>
                        </svg>
                        
                </div>
              </div>
        </div>
      </div>
      <div class="w-[100%] h-[80vh] relative p-4 mt-4 bg-darkGray text-white border border-gray-200 rounded-lg shadow sm:p-8">
        <div class="flex flex-col gap-1 h-[75vh]">
          <div class="flow-root h-[50vh] overflow-y-auto overflow-x-auto">
            <ul role="list">
              <ng-container class=" w-[90%]" *ngIf="selectedProducts && selectedProducts.length > 0">
                <li class="bg-gray my-2 orderItems h-[30px] pl-2 flex items-center" *ngFor="let product of selectedProducts; let ndx = index;">
                  <div class="flex flex-row space-x-4" (mouseenter)="product.showDeleteIcon = true" (mouseleave)="product.showDeleteIcon = false"  *ngIf="product.selectedItems !== undefined && product.selectedItems > 0">
                    <a (click)="deleteItem(product)" class="Vector" style="width: 14px; height: 18px;" *ngIf="product.showDeleteIcon">
                      <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 1H10.5L9.5 0H4.5L3.5 1H0V3H14M1 16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H11C11.5304 18 12.0391 17.7893 12.4142 17.4142C12.7893 17.0391 13 16.5304 13 16V4H1V16Z" fill="#F1C8D0"/>
                        </svg>
                    </a>
                    <div class="flex-shrink-0">
                      <div class="w-6 h-6 bg-white text-black text-center rounded-full">{{ndx + 1}}</div>
                    </div>
                    <div class="flex-1">
                      <p class="text-sm font-light text-white truncate dark-text-white">{{product.product_name}}</p>
                    </div>
                    <div class="flex-1">
                      <p class="text-sm font-light text-white truncate dark-text-white">
                        x{{product.selectedItems}}
                      </p>
                    </div>
                    <div class="inline-flex items-center text-base  text-white dark-text-white px-2">
                      ${{ productTotals[ndx] }}
                    </div>
                  </div>
                </li>
              </ng-container>
              <ng-container class=" w-[90%]  " *ngIf=" selectedProducts.length === 0">
                <div class="text-white text-base   flex justify-center items-center">No Items Added</div>
              </ng-container>
      
            </ul>
          </div>
          <div class="h-px bg-white border-dotted my-3"> </div>
          <div class="h-[20vh] relative">
            <div class="flex justify-between">
              <div class="flex-1">
                <p class="text-sm font-light text-white truncate dark:text-white">Subtotal</p>
              </div>
              <div class=" text-base font-light text-white dark:text-white">
                $ {{ calculateTotalPrice()*0.9}}
              </div>
            </div>
            <div class="flex justify-between">
              <div class="flex-1">
                <p class="text-sm font-light text-white truncate dark:text-white">Tax 10%</p>
              </div>
              <div class=" text-base font-light text-white dark:text-white">
                $ {{ calculateTotalPrice()*0.1}}
              </div>
            </div>
            <div class="flex justify-between">
              <div class="flex-1">
                <p class="text-sm font-medium text-white truncate dark:text-white">Total</p>
              </div>
              <div class=" text-base font-medium text-white dark:text-white">
                ${{ calculateTotalPrice()}}
              </div>
            </div>
          </div>
          <div class=" flex justify-center ">
            <div>
              <button type="button" class="text-black bg-white  rounded-full text-sm px-8 py-2.5 w-64 text-center" (click)="postSelectedItemsToBackend()">Place Order
              </button>
            </div>
  
          </div>
        </div>
      </div>
    </div>
  </div> -->
</div>
